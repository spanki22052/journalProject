# Миграция на Vite с PWA

## Что было сделано

### 1. Установка Vite и плагинов

- Удалены webpack зависимости
- Установлен Vite с React плагином
- Установлен vite-plugin-pwa для PWA функциональности

### 2. Конфигурация Vite

- Создан `vite.config.ts` с полной PWA конфигурацией
- Настроены алиасы для FSD архитектуры
- Настроен Workbox для service worker
- Настроены стратегии кэширования

### 3. Обновление TypeScript

- Обновлен `tsconfig.json` для работы с Vite
- Создан `tsconfig.node.json` для конфигурации Vite

### 4. PWA настройки

- Настроен манифест с полной конфигурацией
- Настроен service worker с кэшированием
- Обновлен robots.txt для PWA ресурсов
- Обновлен useServiceWorker.ts для работы с Vite

### 5. Обновление скриптов

- `npm run dev` - запуск dev сервера
- `npm run build` - сборка для production
- `npm run preview` - предварительный просмотр сборки

## Структура PWA

### Манифест (manifest.webmanifest)

- Полная конфигурация PWA
- Иконки всех размеров
- Скриншоты для магазинов приложений
- Ярлыки (shortcuts)
- Обработчики файлов и протоколов
- Разрешения для камеры, геолокации, уведомлений

### Service Worker (sw.js)

- Автоматическая генерация через Workbox
- Кэширование статических ресурсов
- Кэширование изображений
- Кэширование API запросов
- Стратегии кэширования для разных типов ресурсов

### Robots.txt

- Обновлен для поддержки PWA ресурсов
- Разрешены все необходимые статические файлы
- Запрещены приватные области

## Команды

```bash
# Разработка
npm run dev

# Сборка
npm run build

# Предварительный просмотр
npm run preview

# Линтинг
npm run lint

# Форматирование
npm run format
```

## Особенности

1. **Автоматическое обновление PWA** - приложение автоматически обновляется при наличии новой версии
2. **Офлайн работа** - приложение работает без интернета благодаря кэшированию
3. **Быстрая загрузка** - Vite обеспечивает быструю разработку и сборку
4. **Современный стек** - ES2020, современные браузеры
5. **Оптимизация** - автоматическое разделение кода и оптимизация ресурсов

## Файлы

- `vite.config.ts` - основная конфигурация Vite и PWA
- `index.html` - точка входа приложения
- `dist/manifest.webmanifest` - PWA манифест
- `dist/sw.js` - service worker
- `dist/robots.txt` - robots.txt для поисковых систем
